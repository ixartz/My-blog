<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>[Quick tip] OpenSSH log is empty | Ixartz’s technical blog</title> <meta name="generator" content="Jekyll v3.8.6"/> <meta property="og:title" content="[Quick tip] OpenSSH log is empty"/> <meta name="author" content="Ixartz"/> <meta property="og:locale" content="en_US"/> <meta name="description" content="Lately, I had some trouble with OpenSSH log (by default on Debian, the file is located at /var/log/auth.log). My problem is that the log file is empty. For example, it is impossible to set up a system, which prevents Brute Force attacks (to prevent this, we need to look into the log). The first thing I did is to restart the SSH server by launching this command:"/> <meta property="og:description" content="Lately, I had some trouble with OpenSSH log (by default on Debian, the file is located at /var/log/auth.log). My problem is that the log file is empty. For example, it is impossible to set up a system, which prevents Brute Force attacks (to prevent this, we need to look into the log). The first thing I did is to restart the SSH server by launching this command:"/> <link rel="canonical" href="https://blog.ixartz.com/openssh-log-is-empty/"/> <meta property="og:url" content="https://blog.ixartz.com/openssh-log-is-empty/"/> <meta property="og:site_name" content="Ixartz’s technical blog"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2014-01-16T16:09:59+00:00"/> <script type="application/ld+json">
{"description":"Lately, I had some trouble with OpenSSH log (by default on Debian, the file is located at /var/log/auth.log). My problem is that the log file is empty. For example, it is impossible to set up a system, which prevents Brute Force attacks (to prevent this, we need to look into the log). The first thing I did is to restart the SSH server by launching this command:","author":{"@type":"Person","name":"Ixartz"},"@type":"BlogPosting","url":"https://blog.ixartz.com/openssh-log-is-empty/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://blog.ixartz.com/assets/images/avatar.png"},"name":"Ixartz"},"headline":"[Quick tip] OpenSSH log is empty","dateModified":"2017-05-01T19:52:28+00:00","datePublished":"2014-01-16T16:09:59+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.ixartz.com/openssh-log-is-empty/"},"@context":"http://schema.org"}</script> <link rel="shortcut icon" href="/favicon.ico"> <link rel="stylesheet" href="/assets/css/style-fd671926271de12eaa76fa3cc6209199.css"> </head> <body> <nav class="main-nav"> <a href="/"> <span class="arrow">←</span>Home</a> <a href="/about/">About</a> <a class="cta" href="http://twitter.com/ixartz" target="_blank" rel="noopener noreferrer">Subscribe</a> </nav> <section class=" wrapper"> <article class="post"> <header> <h1>[Quick tip] OpenSSH log is empty</h1> <h2 class="headline">January 16, 2014</h2> </header> <section id="post-body"> <p>Lately, I had some trouble with OpenSSH log (by default on Debian, the file is located at <em>/var/log/auth.log</em>). My problem is that the log file is empty. For example, it is impossible to set up a system, which prevents Brute Force attacks (to prevent this, we need to look into the log). The first thing I did is to restart the SSH server by launching this command:</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">/etc/init.d/ssh restart</code></pre></figure> <p>Unfortunately, it does not work. So, I tried to find the source of the problem in the configuration file. Although I never need to configure OpenSSH to activate log file (by default, OpenSSH writes automatically into a log file), I checked if all variables are correctly configured. In <em>/etc/ssh/sshd_config</em> file, two variable are useful for us:</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">SyslogFacility AUTH
LogLevel INFO</code></pre></figure> <p>On Internet, we can find a solution that replace <em>LogLevel INFO</em> by <em>LogLevel VERBOSE</em>:</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">SyslogFacility AUTH
LogLevel VERBOSE</code></pre></figure> <p>After replacing and restarting the SSH server, nothing appeared in the log file and it was still blank.</p> <h2 id="the-solution">The solution</h2> <p>As often, it is a file ownership problem: OpenSSH uses syslog protocol to handle log information. A solution is to restart rsyslog daemon with root privilege:</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">sudo</span> /etc/init.d/rsyslog restart</code></pre></figure> <p>I wrote this post because on the one hand, I had this problem several times. So, I will not forget the solution anymore (I have a short memory) and on the other hand, I hope this post will help someone in the same situation as me.</p> </section> </article> <footer id="post-meta" class="clearfix"> <a href="http://twitter.com/ixartz" target="_blank" rel="noopener noreferrer"> <img class="avatar" src="/assets/images/avatar.png" alt="@ixartz"> <div> <span class="dark">Ixartz</span> <span>Sharing Engineering Stuff</span> </div> </a> <section id="sharing"> <a class="twitter" href="https://twitter.com/intent/tweet?text=http://https://blog.ixartz.com/openssh-log-is-empty/%20-%20%5BQuick%20tip%5D%20OpenSSH%20log%20is%20empty%20by%20@ixartz" target="_blank" rel="noopener noreferrer"><span class="icon-twitter"> Tweet</span></a> </section> </footer> <div class="archive readmore"> <h3>Comments</h3> <section class="disqus"> <div id="disqus_thread"></div> <script>
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');

    s.src = '//ixartz.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="noopener noreferrer" target="_blank">comments powered by Disqus.</a> </noscript> </section> </div> </section> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-88747769-1', 'auto');
      ga('send', 'pageview');
    </script> </body> </html>